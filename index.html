<!doctype html>
<html lang="es" class="h-full">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mercadeo - Tienda PCB</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;family=Quicksand:wght@400;500;600;700&amp;display=swap"
    rel="stylesheet">
  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase/supabase-config.js"></script>
  <script src="supabase/database.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="styles.css" rel="stylesheet">
</head>

<body class="h-full font-body overflow-auto">
  <!-- Splash Screen -->
  <div id="splash-screen"
    class="fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900">
    <div class="text-center animate-splash">
      <div
        class="w-32 h-32 mx-auto mb-6 rounded-full bg-white/20 p-6 backdrop-blur-lg border-4 border-white/30 animate-bounce-slow">
        <img src="galeria/image1.png" alt="Logo" class="w-full h-full object-contain">
      </div>
      <h1 class="font-display font-bold text-4xl text-white mb-2 animate-fade-in">Mercadeo</h1>
      <p class="text-white/80 text-lg animate-fade-in-delay">Tienda de la escuela</p>
      <div class="mt-6 flex justify-center gap-2">
        <div class="w-3 h-3 bg-white rounded-full animate-pulse"></div>
        <div class="w-3 h-3 bg-white rounded-full animate-pulse" style="animation-delay: 0.2s;"></div>
        <div class="w-3 h-3 bg-white rounded-full animate-pulse" style="animation-delay: 0.4s;"></div>
      </div>
    </div>
  </div>

  <div class="min-h-full w-full">
    <!-- Header -->
    <header class="sticky top-0 z-50 glass-card border-b border-white/10 shadow-lg">
      <div class="max-w-7xl mx-auto px-4 py-4">
        <div class="flex items-center justify-between mb-4">
          <!-- Logo y Nombre -->
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-white/20 p-2">
              <img src="galeria/image1.png" alt="Logo" class="w-full h-full object-contain">
            </div>
            <div>
              <h1 id="store-name" class="font-display font-bold text-xl text-white">Mercadeo</h1>
              <p class="text-xs text-gray-400">Tienda de la escuela</p>
            </div>
          </div>

          <!-- Botones de la derecha -->
          <div class="flex items-center gap-3">
            <!-- Bot√≥n Regresar -->
            <a href="https://pcbsystempr-cyber.github.io/pcbsystem/"
              class="flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all hover:scale-105 font-semibold text-xs sm:text-sm border border-white/20">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
              </svg>
              <span class="hidden sm:inline">Regresar</span>
            </a>

            <!-- Bot√≥n IA -->
            <a href="https://chatgpt.com/g/g-69846cf9e5488191a673f07dedddb4f9-ia-de-mercadeo-pcb" target="_blank"
              class="hidden sm:flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg transition-all hover:scale-105 font-semibold text-sm">
              <span>ü§ñ</span>
              <span>IA de Mercadeo</span>
            </a>

            <!-- Bot√≥n de Notificaciones -->
            <button id="notification-bell"
              class="notification-bell p-2 rounded-lg hover:bg-white/10 transition-colors relative"
              title="Notificaciones">
              <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
              </svg>
              <span id="notification-count" class="notification-badge hidden">0</span>
            </button>

            <!-- Bot√≥n carrito m√≥vil -->
            <button id="cart-toggle-mobile"
              class="lg:hidden relative p-2 rounded-lg hover:bg-white/10 transition-colors">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 9m10 0l2-9m-9 9h12M9 20a1 1 0 11-2 0 1 1 0 012 0m8 0a1 1 0 11-2 0 1 1 0 012 0" />
              </svg>
              <span id="cart-count-mobile" class="cart-badge absolute -top-1 -right-1 text-xs">0</span>
            </button>

            <!-- Men√∫ Hamburguesa -->
            <button id="hamburger-btn" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
              <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Barra de b√∫squeda y filtros -->
        <div class="flex flex-col sm:flex-row gap-3">
          <div class="flex-1 relative">
            <input type="text" id="search-input" placeholder="üîç Buscar dulces..."
              class="w-full rounded-lg px-4 py-2.5 pl-10 pr-12 focus:border-[#3b82f6] focus:outline-none transition-colors"
              style="background: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);">
            <svg class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2" style="color: var(--text-secondary);"
              fill="none" stroke="currentColor" viewbox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <!-- Bot√≥n de comando de voz -->
            <button id="voice-btn"
              class="absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-red-500/20 hover:bg-red-500/30 flex items-center justify-center transition-all"
              title="Comando de voz">
              <span id="voice-icon">üé§</span>
            </button>
          </div>
          <div class="flex gap-2 overflow-x-auto pb-2 sm:pb-0">
            <button class="filter-btn active" data-category="todos">Todos</button>
            <button class="filter-btn" data-category="dulces">üç¨ Dulces</button>
            <button class="filter-btn" data-category="chocolates">üç´ Chocolates</button>
            <button class="filter-btn" data-category="bebidas">ü•§ Bebidas</button>
            <button class="filter-btn" data-category="snacks">üçø Snacks</button>
          </div>
        </div>
      </div>
    </header>

    <!-- Carrusel de Ofertas -->
    <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="relative overflow-hidden rounded-xl glass-card border border-white/10">
        <div id="carousel-container" class="flex transition-transform duration-500 ease-in-out">
          <!-- Las ofertas se cargar√°n din√°micamente -->
        </div>
        <!-- Indicadores -->
        <div id="carousel-indicators" class="absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2">
          <!-- Los indicadores se cargar√°n din√°micamente -->
        </div>
        <!-- Botones de navegaci√≥n -->
        <button id="carousel-prev"
          class="absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 hover:bg-black/70 flex items-center justify-center transition-colors">
          <span class="text-white text-xl">‚Äπ</span>
        </button>
        <button id="carousel-next"
          class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 hover:bg-black/70 flex items-center justify-center transition-colors">
          <span class="text-white text-xl">‚Ä∫</span>
        </button>
      </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Tienda de Dulces -->
      <div class="lg:col-span-2">
        <div class="mb-6 animate-slide-up flex items-center justify-between">
          <div>
            <h2 class="font-display text-3xl font-bold mb-2" style="color: var(--text-primary);">Nuestros Dulces</h2>
            <p id="tagline" style="color: var(--text-secondary);">Selecciona tus dulces favoritos y nosotros te los
              llevamos al sal√≥n
            </p>
          </div>
          <div class="hidden sm:flex items-center gap-2 text-sm text-gray-400">
            <span id="products-count">10</span> productos
          </div>
        </div>

        <!-- Grid de productos -->
        <div id="candies-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
          <!-- Candy cards generated by JS -->
        </div>

        <!-- Mensaje cuando no hay resultados -->
        <div id="no-results" class="hidden text-center py-12">
          <div class="text-6xl mb-4">üòï</div>
          <h3 class="text-xl font-bold mb-2">No encontramos productos</h3>
          <p class="text-gray-400">Intenta con otra b√∫squeda o filtro</p>
        </div>
      </div>

      <!-- Carrito y Formulario -->
      <aside class="lg:col-span-1">
        <div class="sticky top-20 space-y-6">
          <!-- Cart Section -->
          <div class="glass-card rounded-2xl p-6 border border-white/10 animate-slide-up stagger-1">
            <div class="flex items-center justify-between mb-4">
              <h3 class="font-display font-bold text-xl flex items-center gap-2">
                <span class="text-2xl">üõí</span> Mi Carrito
              </h3>
              <div class="flex items-center gap-3">
                <span id="cart-count" class="cart-badge">0</span>
                <!-- Bot√≥n X para cerrar carrito m√≥vil -->
                <button id="close-cart-mobile"
                  class="lg:hidden text-gray-400 hover:text-white text-2xl w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors">
                  √ó
                </button>
              </div>
            </div>

            <div id="cart-items" class="space-y-3 mb-4 max-h-80 overflow-y-auto custom-scrollbar">
              <p class="text-gray-400 text-sm text-center py-8">Tu carrito est√° vac√≠o</p>
            </div>

            <button id="clear-cart-btn"
              class="hidden w-full text-sm text-red-400 hover:text-red-300 transition-colors mb-4">
              üóëÔ∏è Vaciar carrito
            </button>

            <div class="border-t border-white/10 pt-4 space-y-2">
              <div class="flex justify-between text-sm">
                <span class="text-gray-400">Subtotal:</span>
                <span id="subtotal" class="font-semibold">$0.00</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="text-gray-400">Entrega (9AM-2PM):</span>
                <span id="delivery-cost-display" class="font-semibold text-[#f59e0b]">$2.00</span>
              </div>
              <div
                class="flex justify-between text-lg font-bold bg-gradient-to-r from-[#1e40af] to-[#3b82f6] rounded-lg p-3 mt-4">
                <span>Total:</span>
                <span id="total-price">$2.00</span>
              </div>

              <!-- Dividir cuenta -->
              <div id="split-section" class="hidden pt-3 border-t border-white/10">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm text-gray-400">Dividir entre:</span>
                  <div class="flex items-center gap-2">
                    <button onclick="changeSplitCount(-1)"
                      class="w-8 h-8 flex items-center justify-center rounded-lg bg-white/5 hover:bg-white/10 transition-colors font-bold">‚àí</button>
                    <span id="split-count" class="text-lg font-bold w-8 text-center">1</span>
                    <button onclick="changeSplitCount(1)"
                      class="w-8 h-8 flex items-center justify-center rounded-lg bg-white/5 hover:bg-white/10 transition-colors font-bold">+</button>
                  </div>
                </div>
                <div class="bg-[#f59e0b]/10 border border-[#f59e0b]/30 rounded-lg p-3 text-center">
                  <p class="text-xs text-gray-400 mb-1">Cada persona paga:</p>
                  <p id="split-amount" class="text-2xl font-bold text-[#f59e0b]">$0.00</p>
                </div>
              </div>

              <button id="toggle-split-btn"
                class="hidden w-full text-sm text-[#3b82f6] hover:text-[#60a5fa] transition-colors mt-3 flex items-center justify-center gap-2">
                <span>üë•</span>
                <span id="split-btn-text">Dividir cuenta</span>
              </button>

              <!-- Bot√≥n Calculadora Nutricional -->
              <!-- <button id="nutrition-btn" class="w-full text-sm text-green-400 hover:text-green-300 transition-colors mt-3 flex items-center justify-center gap-2 py-2 rounded-lg bg-green-500/10 hover:bg-green-500/20">
         <span>ü•ó</span>
         <span>Ver Info Nutricional</span>
        </button>
       </div>
      </div> -->

              <!-- Formulario -->
              <div class="glass-card rounded-2xl p-6 border border-white/10 animate-slide-up stagger-2">
                <h3 class="font-display font-bold text-lg mb-4 flex items-center gap-2"><span class="text-xl">üìã</span>
                  Tus Datos</h3>
                <form id="order-form" class="space-y-3">
                  <div><label for="nombre" class="block text-sm font-semibold mb-1"
                      style="color: var(--text-secondary);">Nombre
                      Completo</label> <input type="text" id="nombre" placeholder="Juan P√©rez"
                      class="w-full rounded-lg px-4 py-2 focus:border-[#3b82f6] focus:outline-none transition-colors"
                      style="background: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);"
                      required>
                  </div>
                  <div class="grid grid-cols-2 gap-2">
                    <div><label for="grado" class="block text-sm font-semibold mb-1"
                        style="color: var(--text-secondary);">Grado</label> <input type="text" id="grado"
                        placeholder="10mo"
                        class="w-full rounded-lg px-4 py-2 focus:border-[#3b82f6] focus:outline-none transition-colors"
                        style="background: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);"
                        required>
                    </div>
                    <div><label for="grupo" class="block text-sm font-semibold mb-1"
                        style="color: var(--text-secondary);">Grupo</label> <input type="text" id="grupo"
                        placeholder="A"
                        class="w-full rounded-lg px-4 py-2 focus:border-[#3b82f6] focus:outline-none transition-colors"
                        style="background: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);"
                        required>
                    </div>
                  </div>
                  <div><label for="salon" class="block text-sm font-semibold mb-1"
                      style="color: var(--text-secondary);">Sal√≥n</label> <input type="text" id="salon"
                      placeholder="101"
                      class="w-full rounded-lg px-4 py-2 focus:border-[#3b82f6] focus:outline-none transition-colors"
                      style="background: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);"
                      required>
                  </div>
                  <div><label for="telefono" class="block text-sm font-semibold mb-1"
                      style="color: var(--text-secondary);">N√∫mero de
                      Tel√©fono</label> <input type="tel" id="telefono" placeholder="787-123-4567"
                      class="w-full rounded-lg px-4 py-2 focus:border-[#3b82f6] focus:outline-none transition-colors"
                      style="background: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);"
                      required>
                  </div>

                  <!-- M√©todo de pago -->
                  <div class="bg-white/5 border border-white/10 rounded-lg p-4">
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <span class="text-2xl">üíµ</span>
                        <div>
                          <p class="text-sm font-semibold">M√©todo de Pago</p>
                          <p class="text-xs text-gray-400">Solo efectivo</p>
                        </div>
                      </div>
                      <span class="text-lg font-bold text-[#10b981]">Efectivo</span>
                    </div>
                  </div>

                  <button type="submit" id="submit-btn"
                    class="btn-primary w-full text-white font-bold py-3 rounded-lg mt-4 flex items-center justify-center gap-2">
                    <span>üéâ</span> <span>Solicitar Entrega</span> </button>
                </form>
                <p class="text-xs text-gray-500 text-center mt-4">Los dulces se entregar√°n entre 9:00 AM y 2:00 PM</p>
                <p class="text-xs text-gray-500 text-center mt-2">üíµ Pago en efectivo al recibir</p>
              </div>
            </div>
      </aside>
    </div>

    <!-- Canvas para Confetti -->
    <canvas id="confetti-canvas"
      style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999;"></canvas>

    <!-- Men√∫ Hamburguesa Desplegable -->
    <div id="hamburger-menu"
      class="fixed top-0 right-0 h-full w-80 bg-gray-900/95 backdrop-blur-lg border-l border-white/10 transform translate-x-full transition-transform duration-300 z-[100] shadow-2xl">
      <div class="p-6">
        <!-- Header del men√∫ -->
        <div class="flex items-center justify-between mb-8">
          <h3 class="font-display text-xl font-bold text-white">Men√∫</h3>
          <button id="close-hamburger-btn" class="text-gray-400 hover:text-white text-2xl">√ó</button>
        </div>

        <!-- Perfil del usuario (si est√° logueado) -->
        <div id="user-profile-section" class="hidden mb-6 p-4 bg-white/5 rounded-lg border border-white/10">
          <div class="flex items-center gap-3 mb-3">
            <div
              class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl">
              <span id="user-avatar">U</span>
            </div>
            <div>
              <p class="font-semibold text-white" id="user-name-display">Usuario</p>
              <p class="text-xs text-gray-400" id="user-email-display">usuario@email.com</p>
            </div>
          </div>
          <button id="view-profile-btn"
            class="w-full text-sm text-blue-400 hover:text-blue-300 transition-colors py-2 rounded-lg hover:bg-white/5">
            Ver Perfil Completo
          </button>
        </div>

        <!-- Opciones del men√∫ -->
        <nav class="space-y-2">
          <!-- Login/Registro (si NO est√° logueado) -->
          <a href="login.html" id="menu-login-btn"
            class="w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-colors text-left">
            <span class="text-xl">üë§</span>
            <span class="text-white">Iniciar Sesi√≥n / Registrarse</span>
          </a>

          <!-- Admin -->
          <button id="menu-admin-btn"
            class="w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-colors text-left">
            <span class="text-xl">üîê</span>
            <span class="text-white">Panel de Admin</span>
          </button>

          <!-- Regresar al Sistema PCB -->
          <a href="https://pcbsystempr-cyber.github.io/pcbsystem/"
            class="w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-colors text-left border border-white/10">
            <span class="text-xl">üè†</span>
            <span class="text-white">Regresar al Sistema PCB</span>
          </a>

          <!-- IA de Mercadeo (m√≥vil) -->
          <a href="https://chatgpt.com/g/g-69846cf9e5488191a673f07dedddb4f9-ia-de-mercadeo-pcb" target="_blank"
            class="sm:hidden w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-colors text-left">
            <span class="text-xl">ü§ñ</span>
            <span class="text-white">IA de Mercadeo</span>
          </a>

          <!-- Cerrar Sesi√≥n (si est√° logueado) -->
          <button id="menu-logout-btn"
            class="hidden w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-red-500/10 text-red-400 hover:text-red-300 transition-colors text-left">
            <span class="text-xl">üö™</span>
            <span>Cerrar Sesi√≥n</span>
          </button>
        </nav>
      </div>
    </div>

    <!-- Overlay del men√∫ hamburguesa -->
    <div id="hamburger-overlay"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[99] opacity-0 pointer-events-none transition-opacity duration-300">
    </div>

    <!-- Panel de Notificaciones -->
    <div id="notification-panel" class="notification-panel">
      <div class="notification-header">
        <h3 class="font-bold text-white text-lg">Notificaciones</h3>
        <button id="clear-notifications" class="text-sm text-blue-400 hover:text-blue-300">Limpiar todo</button>
      </div>

      <!-- Bot√≥n para activar notificaciones del navegador -->
      <div id="enable-notifications-banner" class="hidden p-4 bg-blue-600/20 border-b border-blue-500/30">
        <p class="text-sm text-white mb-2">üîî Activa las notificaciones para no perderte nada</p>
        <button id="enable-notifications-btn"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors">
          Activar Notificaciones
        </button>
      </div>

      <div id="notification-list" class="notification-list">
        <div class="notification-empty">
          <div class="text-4xl mb-2">üîî</div>
          <p>No tienes notificaciones</p>
        </div>
      </div>
    </div>

    <!-- Modal de Login/Registro -->
    <div id="user-auth-modal" class="modal-overlay">
      <div class="glass-card rounded-2xl p-8 max-w-md w-full border border-white/10 animate-slide-up">
        <div class="flex items-center justify-between mb-6">
          <h3 class="font-display text-2xl font-bold text-white" id="auth-modal-title">Iniciar Sesi√≥n</h3>
          <button id="close-auth-modal-btn" class="text-gray-400 hover:text-white text-2xl">√ó</button>
        </div>

        <!-- Tabs -->
        <div class="flex gap-2 mb-6">
          <button id="login-tab"
            class="flex-1 py-2 px-4 rounded-lg bg-blue-500 text-white font-semibold transition-colors">
            Iniciar Sesi√≥n
          </button>
          <button id="register-tab"
            class="flex-1 py-2 px-4 rounded-lg bg-white/5 text-gray-400 hover:bg-white/10 font-semibold transition-colors">
            Registrarse
          </button>
        </div>

        <!-- Formulario de Login -->
        <form id="login-form" class="space-y-4">
          <!-- Botones de inicio de sesi√≥n social -->
          <div class="space-y-3">
            <button type="button" class="social-login-btn apple">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z" />
              </svg>
              <span>Continuar con Apple</span>
            </button>

            <button type="button" class="social-login-btn google">
              <svg viewBox="0 0 24 24">
                <path fill="#4285F4"
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                <path fill="#34A853"
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                <path fill="#FBBC05"
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                <path fill="#EA4335"
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
              </svg>
              <span>Continuar con Google</span>
            </button>
          </div>

          <div class="divider">
            <span>o contin√∫a con email</span>
          </div>

          <div>
            <label class="block text-sm font-semibold mb-2 text-gray-300">Email</label>
            <input type="email" id="login-email" placeholder="tu@email.com" required
              class="w-full rounded-lg px-4 py-2 bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors">
          </div>
          <div>
            <label class="block text-sm font-semibold mb-2 text-gray-300">Contrase√±a</label>
            <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
              class="w-full rounded-lg px-4 py-2 bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors">
          </div>
          <button type="submit"
            class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg transition-colors">
            Iniciar Sesi√≥n
          </button>
        </form>

        <!-- Formulario de Registro -->
        <form id="register-form" class="space-y-4 hidden">
          <!-- Botones de inicio de sesi√≥n social -->
          <div class="space-y-3">
            <button type="button" class="social-login-btn apple">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z" />
              </svg>
              <span>Continuar con Apple</span>
            </button>

            <button type="button" class="social-login-btn google">
              <svg viewBox="0 0 24 24">
                <path fill="#4285F4"
                  d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                <path fill="#34A853"
                  d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                <path fill="#FBBC05"
                  d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                <path fill="#EA4335"
                  d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
              </svg>
              <span>Continuar con Google</span>
            </button>
          </div>

          <div class="divider">
            <span>o reg√≠strate con email</span>
          </div>

          <div>
            <label class="block text-sm font-semibold mb-2 text-gray-300">Nombre Completo</label>
            <input type="text" id="register-name" placeholder="Juan P√©rez" required
              class="w-full rounded-lg px-4 py-2 bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors">
          </div>
          <div>
            <label class="block text-sm font-semibold mb-2 text-gray-300">Email</label>
            <input type="email" id="register-email" placeholder="tu@email.com" required
              class="w-full rounded-lg px-4 py-2 bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors">
          </div>
          <div>
            <label class="block text-sm font-semibold mb-2 text-gray-300">Contrase√±a</label>
            <input type="password" id="register-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
              class="w-full rounded-lg px-4 py-2 bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:outline-none transition-colors">
          </div>
          <button type="submit"
            class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg transition-colors">
            Registrarse
          </button>
        </form>
      </div>
    </div>

    <!-- Modal de Perfil de Usuario -->
    <div id="user-profile-modal" class="modal-overlay">
      <div class="glass-card rounded-2xl p-8 max-w-md w-full border border-white/10 animate-slide-up">
        <div class="flex items-center justify-between mb-6">
          <h3 class="font-display text-2xl font-bold text-white">Mi Perfil</h3>
          <button id="close-profile-modal-btn" class="text-gray-400 hover:text-white text-2xl">√ó</button>
        </div>

        <div class="text-center mb-6">
          <div
            class="w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-3xl mb-4">
            <span id="profile-avatar">U</span>
          </div>
          <h4 class="font-bold text-xl text-white mb-1" id="profile-name">Usuario</h4>
          <p class="text-gray-400 text-sm" id="profile-email">usuario@email.com</p>
        </div>

        <div class="space-y-3 mb-6">
          <div class="bg-white/5 rounded-lg p-4 border border-white/10">
            <p class="text-gray-400 text-sm mb-1">Total Gastado</p>
            <p class="text-2xl font-bold text-white" id="profile-total-spent">$0.00</p>
          </div>
          <div class="bg-white/5 rounded-lg p-4 border border-white/10">
            <p class="text-gray-400 text-sm mb-1">Pedidos Realizados</p>
            <p class="text-2xl font-bold text-white" id="profile-orders-count">0</p>
          </div>
        </div>

        <a href="edit-profile.html" id="edit-profile-btn"
          class="block w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg transition-colors mb-3 text-center">
          Editar Perfil
        </a>
        <button id="close-profile-btn"
          class="w-full bg-white/5 hover:bg-white/10 text-white font-bold py-3 rounded-lg transition-colors">
          Cerrar
        </button>
      </div>
    </div>

    <!-- Modal de Calculadora Nutricional -->
    <div id="nutrition-modal" class="modal-overlay">
      <div
        class="glass-card rounded-2xl p-8 max-w-2xl w-full border border-white/10 animate-slide-up max-h-[90vh] overflow-y-auto">
        <div class="flex items-center justify-between mb-6">
          <h3 class="font-display text-2xl font-bold flex items-center gap-2">
            <span>ü•ó</span> Informaci√≥n Nutricional
          </h3>
          <button id="close-nutrition-btn" class="text-gray-400 hover:text-white text-2xl">&times;</button>
        </div>
        <div id="nutrition-content" class="space-y-4">
          <!-- Contenido generado por JS -->
        </div>
        <div class="mt-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4">
          <p class="text-sm text-gray-300 text-center">
            üí° <strong>Nota:</strong> Los valores nutricionales son aproximados y pueden variar seg√∫n el fabricante.
          </p>
        </div>
      </div>
    </div>

    <!-- Modal de Confirmaci√≥n -->
    <div id="confirmation-modal" class="modal-overlay">
      <div class="glass-card rounded-2xl p-8 max-w-md w-full border border-white/10 animate-slide-up">
        <div class="text-center mb-6">
          <div
            class="w-20 h-20 mx-auto mb-4 rounded-full bg-[#10b981]/20 flex items-center justify-center text-4xl animate-bounce">
            ‚úÖ
          </div>
          <h3 class="font-display text-2xl font-bold mb-2">¬°Gracias por tu pedido!</h3>
          <p class="text-gray-400">En breve se te estar√° entregando</p>
          <div
            class="mt-4 inline-flex items-center gap-2 bg-[#10b981]/20 text-[#10b981] px-4 py-2 rounded-full text-sm font-semibold">
            <span>‚è±Ô∏è</span>
            <span>Tiempo estimado: 15-30 min</span>
          </div>
        </div>
        <div id="confirmation-details" class="space-y-2 mb-6 text-sm bg-white/5 rounded-lg p-4">
          <!-- Details populated by JS -->
        </div>
        <div class="bg-[#f59e0b]/10 border border-[#f59e0b]/30 rounded-lg p-4 mb-6 text-center">
          <p class="text-sm text-gray-300 mb-2">üíµ M√©todo de Pago</p>
          <p class="text-lg font-bold text-[#f59e0b]">Efectivo al recibir</p>
        </div>
        <button id="close-modal-btn" class="btn-primary w-full text-white font-bold py-3 rounded-lg">
          üõí Hacer Otro Pedido
        </button>
      </div>
    </div>
  </div>



  <!-- Panel de IA removido - ahora abre directamente en ChatGPT -->

  <script src="supabase/database.js"></script>
  <script src="ai-config.js"></script>
  <script src="script.js"></script>
  <script src="auth.js"></script>
</body>

</html>